(()=>{function e(e,t,n,r,a,o,c){try{var s=e[o](c),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,o){var c=t.apply(n,r);function s(t){e(c,a,o,s,u,"next",t)}function u(t){e(c,a,o,s,u,"throw",t)}s(void 0)}))}}var n,r,a,o,c,s,u,i,l,d,m,p,f,h,C,y,x,g=function(){var e="f597bfe05121afdfb2f2b115097ef459";function n(){return(n=t(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n.toUpperCase(),t.next=4,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(e,"&units=metric"),{mode:"cors"});case 4:return a=t.sent,t.next=7,a.json();case 7:return o=t.sent,t.abrupt("return",o);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return","There was an error");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}return{getWeatherData:function(e){return n.apply(this,arguments)}}}(),v={parseF:function(e){return Math.round(1.8*e+32)},parseC:function(e){return Math.round(5*(e-32)/9)},currentScale:"Celsius"},S=(n=document.querySelector(".cityName"),r=document.querySelector(".cityTemp"),a=document.querySelector(".highTempValue"),o=document.querySelector(".lowTempValue"),c=document.querySelector(".feelsLikeValue"),s=document.querySelector(".sunriseValue"),u=document.querySelector(".sunsetValue"),i=document.querySelector(".visibilityValue"),l=document.querySelector(".humidityValue"),d=document.querySelector(".windValue"),m=document.querySelector("#celsius"),p=document.querySelector("#fahrenheit"),f=document.querySelector(".cityForecast"),h=document.querySelector(".castIcon"),C=document.querySelector(".errorMsg"),y=document.querySelector(".modal"),x=document.querySelector("main"),{renderAllInfo:function(e){var t,m,p,C,y,g,S,F=v.currentScale;t=e.name,n.textContent=t,function(e,t){"Celsius"===t?r.textContent="".concat(e,"°C"):"Fahrenheit"===t&&(r.textContent="".concat(v.parseF(e),"°F"))}(e.temp,F),function(e,t){"Celsius"===t?a.textContent="".concat(e,"°C"):"Fahrenheit"===t&&(a.textContent="".concat(v.parseF(e),"°F"))}(e.tempMax,F),function(e,t){"Celsius"===t?o.textContent="".concat(e,"°C"):"Fahrenheit"===t&&(o.textContent="".concat(v.parseF(e),"°F"))}(e.tempMin,F),function(e,t){"Celsius"===t?c.textContent="".concat(e,"°C"):"Fahrenheit"===t&&(c.textContent="".concat(v.parseF(e),"°F"))}(e.feelsLike,F),m=e.sunrise,s.textContent=m,p=e.sunset,u.textContent=p,C=e.visibility,i.textContent="".concat(C," km"),y=e.humidity,l.textContent="".concat(y,"%"),g=e.wind,d.textContent="".concat(g," km/h"),S=e.description,f.textContent=S,"Clouds"===S?(h.setAttribute("class","fas castIcon fa-cloud"),x.style.backgroundImage="url(./images/cloud.jpg)"):"Rain"===S||"Thunderstorm"===S||"Drizzle"===S?(h.setAttribute("class","fas castIcon fa-cloud-rain"),x.style.backgroundImage="url(./images/rain.jpg"):"Clear"===S?(h.setAttribute("class","fas castIcon fa-sun"),x.style.backgroundImage="url(./images/clearSky.jpg)"):"Snow"===S?(h.setAttribute("class","fas castIcon fa-snowflake"),x.style.backgroundImage="url(./images/snow.jpg)"):(h.setAttribute("class","fas castIcon fa-smog"),x.style.backgroundImage="url(./images/mist.jpg)")},renderChangedScale:function(){"Fahrenheit"===v.currentScale?(r.textContent="".concat(v.parseF(parseInt(r.textContent,10)),"°F"),a.textContent="".concat(v.parseF(parseInt(a.textContent,10)),"°F"),o.textContent="".concat(v.parseF(parseInt(o.textContent,10)),"°F"),c.textContent="".concat(v.parseF(parseInt(c.textContent,10)),"°F")):(r.textContent="".concat(v.parseC(parseInt(r.textContent,10)),"°C"),a.textContent="".concat(v.parseC(parseInt(a.textContent,10)),"°C"),o.textContent="".concat(v.parseC(parseInt(o.textContent,10)),"°C"),c.textContent="".concat(v.parseC(parseInt(c.textContent,10)),"°C")),p.classList.toggle("selectedTemp"),m.classList.toggle("selectedTemp")},renderErrorMessage:function(){C.style.display="flex"},unrenderErrorMessage:function(){C.style.display="none"},renderModal:function(){y.style.display="flex"},unrenderModal:function(){y.style.display="none"}});!function(){var e=document.querySelector(".searchButton"),n=document.querySelector(".searchbar"),r=document.querySelector(".switchTemp");function a(e){var t=new Date(1e3*e),n=t.getHours(),r=t.getMinutes();return n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r)),"".concat(n,":").concat(r)}function o(e){return{name:e.name,temp:Math.round(e.main.temp),tempMax:Math.round(e.main.temp_max),tempMin:Math.round(e.main.temp_min),feelsLike:Math.round(e.main.feels_like),sunrise:a(e.sys.sunrise),sunset:a(e.sys.sunset),visibility:Math.round(e.visibility/1e3),humidity:Math.round(e.main.humidity),wind:Math.round(3.6*e.wind.speed),description:e.weather[0].main}}function c(e){return s.apply(this,arguments)}function s(){return(s=t(regeneratorRuntime.mark((function e(t){var r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"==typeof t?t:n.value,e.prev=1,void 0!==r&&!/^\s+$/.test(r)){e.next=4;break}throw Error;case 4:return S.renderModal(),e.next=7,g.getWeatherData(r);case 7:a=e.sent,c=o(a),S.renderAllInfo(c),n.value="",S.unrenderModal(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),S.unrenderModal(),S.renderErrorMessage(),setTimeout((function(){S.unrenderErrorMessage(),n.value=""}),3e3);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}e.addEventListener("click",c),r.addEventListener("click",(function(){"Celsius"===v.currentScale?v.currentScale="Fahrenheit":v.currentScale="Celsius",S.renderChangedScale()})),c("Arraial do Cabo")}()})();